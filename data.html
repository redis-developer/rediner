<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Data Architecture</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="site.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="site.js"></script>
</head>
<body>
<nav id="branding">

   <span class="item">
   <a href="https://redislabs.com/">
   <img class="logo" src="https://docs.redislabs.com/latest/images/icon_logo/logo-redis-2.svg">
   </a>
   </span>

   <span class="item">
      <a href="./">Project: Rediner</a>
   </span>

   <span class="item">
      <a href="https://github.com/redis-developer/rediner">(source)</a>
   </span>

   <span class="item">
      <a href="https://rediner.milowski.io">(demo)</a>
   </span>

</nav>

<nav id="secondary">
<span class="item"><a href="collect.html">Collecting Data</a></span>
<span class="item"><a href="data.html">Data Architecture</a></span>
<span class="item"><a href="ingest.html">Ingesting Data</a></span>
<span class="item"><a href="query.html">Querying Data</a></span>
<span class="item"><a href="application.html">Demo Application</a></span>
<span class="item"><a href="serverless.html">Serverless</a></span>
</nav>
<header id="title-block-header">
<h1 class="title">Data Architecture</h1>
</header>
<section id="sizing" class="level1">
<h1>Sizing</h1>
<p>This application uses RedisGraph. The size of the graph depends on two factors:</p>
<ul>
<li>The number of articles (e.g., blog posts)</li>
<li>The number of named entities extracted (&lt; frequency of most used word)</li>
</ul>
<p>For a single blog, this graph will be relatively small.</p>
<section id="key-structure" class="level2">
<h2>Key Structure</h2>
<p>The graph can be stored into any key and multiple blogs can be stored in the same key or separate keys based on preference.</p>
</section>
<section id="graph-structure" class="level2">
<h2>Graph Structure</h2>
<figure>
<img src="ner-graph.png" alt="NER Graph" /><figcaption aria-hidden="true">NER Graph</figcaption>
</figure>
<ol type="1">
<li>Each article is a separate node with properties and label <code>BlogPosting</code></li>
<li>Each named entity has a label <code>NamedEntity</code> with a <code>text</code> property.</li>
<li>There is a single relation named <code>uses</code> between an article and a named entity with a <code>count</code> property for how many times the entity occurs in the article.</li>
</ol>
</section>
<section id="idempotency" class="level2">
<h2>Idempotency</h2>
<p>This module uses the <a href="https://github.com/alexmilowski/pypropgraph">pypropgraph</a> python library to load the graph. This library uses MERGE to avoid duplication. If the URLs of the articles and the named entities remain the same, running ingest more than once should result in the same graph.</p>
</section>
<section id="scaling" class="level2">
<h2>Scaling</h2>
<p>The main challenge of scalability is the number of named entities. While the SpaCy NER model provides a robust detection of named entities, it does have issues with entity word boundaries. As such, sometimes the same named entity is prefix or suffixed with extra words like stop words or other qualifiers. Pruning the named entities via additional algorithms should provide better scalability for processing a large corpus.</p>
</section>
<section id="database" class="level2">
<h2>Database</h2>
<p>This project relies on RedisGraph and the demo relies on various indexes.</p>
<p>You can run a local RedisGraph instance by:</p>
<pre><code>docker run -p 6379:6379 redislabs/redisgraph:latest</code></pre>
<p>And setup the index per key:</p>
<pre><code>python demo/setupdb.py milowski.com</code></pre>
<p>The above program accepts multiple graph keys:</p>
<pre><code>python demo/setupdb.py milowski.com redislabs-blog</code></pre>
</section>
</section>
</body>
</html>
